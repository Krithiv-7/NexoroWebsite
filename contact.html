<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | Nexoro Hosting</title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header>
        <div class="header-container">
            <h1 class="logo">Nexoro Hosting</h1>
            <div class="header-right">
                <nav>
                    <a href="index.html">Home</a>
                    <a href="about.html">About</a>
                    <a href="plans.html">Plans</a>
                    <a href="contact.html">Contact</a>
                </nav>
                <a href="#" class="button button-sm">Client Area</a>
                <!-- Theme Switcher Button -->
                <button id="theme-switcher" class="theme-switcher" aria-label="Switch theme"><i class="fas fa-moon"></i></button>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <section>
                <h2>Get in Touch</h2>
                <p>Have a question or need support? Fill out the form below or connect with us on social media.</p>
                <form id="contact-form" class="contact-form">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" placeholder="Your name" required>

                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="Your email" required>

                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="5" placeholder="Your message" required></textarea>

                    <button type="submit" class="button">Send Message</button>
                    <div id="form-status"></div>
                </form>
            </section>

        </div>
    </main>

    <footer id="contact">
        <div class="social-icons">
            <a href="https://discord.gg/WTSpxYuU9Q" target="_blank" aria-label="Discord"><i class="fab fa-discord"></i></a>
            <a href="#" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
        </div>
        <p>&copy; 2024 Nexoro Hosting. All Rights Reserved.</p>
    </footer>

    <script>
        // --- Theme Switcher Logic (same as other pages) ---
        const themeSwitcher = document.getElementById('theme-switcher');
        const body = document.body;
        const icon = themeSwitcher.querySelector('i');
        const setTheme = (theme) => { body.classList.toggle('dark-mode', theme === 'dark'); icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon'; localStorage.setItem('theme', theme); };
        themeSwitcher.addEventListener('click', () => { body.classList.contains('dark-mode') ? setTheme('light') : setTheme('dark'); });

        document.addEventListener('DOMContentLoaded', () => {
            setTheme(localStorage.getItem('theme') || 'light');

            const contactForm = document.getElementById('contact-form');
            const formStatus = document.getElementById('form-status');

            if (contactForm) {
                contactForm.addEventListener('submit', function(event) {
                    event.preventDefault(); // Prevent default browser submission

                    // --- PASTE YOUR DISCORD WEBHOOK URL HERE ---
                    const webhookURL = 'https://discord.com/api/webhooks/1400114420562133014/MxaDLfK3Y9Nbv2li_nL6HWcYEaucnzyEMBKjP6zmrxiDsdco2sfrN-m_uhkyIc8ZvmFs';
                    // -----------------------------------------

                    const submitButton = contactForm.querySelector('button[type="submit"]');
                    const formData = new FormData(contactForm);
                    const name = formData.get('name');
                    const email = formData.get('email');
                    const message = formData.get('message');

                    if (!webhookURL.startsWith('https://discord.com/api/webhooks/')) {
                        formStatus.textContent = 'Webhook URL is not configured correctly.';
                        formStatus.className = 'form-status error';
                        return;
                    }

                    // Disable button and show sending message
                    submitButton.disabled = true;
                    submitButton.textContent = 'Sending...';
                    formStatus.textContent = '';

                    // Create a nicely formatted embed for Discord
                    const payload = {
                        username: "Nexoro Contact Bot",
                        embeds: [{
                            title: `New Message from ${name}`,
                            color: 16761095, // A nice amber/yellow color
                            fields: [
                                { name: "Email Address", value: email, inline: true },
                                { name: "Timestamp", value: new Date().toUTCString(), inline: true },
                                { name: "Message", value: message }
                            ],
                            footer: { text: "Submitted via nexorohosting.com" }
                        }]
                    };

                    // Send the data using the Fetch API
                    fetch(webhookURL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload),
                    })
                    .then(response => {
                        if (response.ok) {
                            formStatus.textContent = 'Message sent! We will get back to you soon.';
                            formStatus.className = 'form-status success';
                            contactForm.reset();
                        } else {
                            throw new Error('Failed to send message. Please try again later.');
                        }
                    })
                    .catch(error => {
                        formStatus.textContent = error.message;
                        formStatus.className = 'form-status error';
                    })
                    .finally(() => {
                        submitButton.disabled = false;
                        submitButton.textContent = 'Send Message';
                    });
                });
            }
        });
    </script>
</body>
</html>